<script>
const dataPaket = {
  box: {
    paket: [
      { nama: "Box 10 Menit", harga: 25000 },
      { nama: "Box 15 Menit", harga: 35000 }
    ],
    background: ["Putih", "Hitam"]
  },
  studio: {
    paket: [
      { nama: "Studio 15 Menit", harga: 50000 },
      { nama: "Studio 30 Menit", harga: 90000 }
    ],
    background: ["Putih", "Abu-abu", "Cream", "Custom"]
  }
};

function updatePaket(){
  const kategori = document.getElementById("kategori").value;
  const paketSelect = document.getElementById("pilihPaket");
  const bgSelect = document.getElementById("background");

  paketSelect.innerHTML = `<option value="">-- Pilih paket --</option>`;
  bgSelect.innerHTML = `<option value="">-- Pilih background --</option>`;

  if(!kategori) return;

  dataPaket[kategori].paket.forEach(p => {
    paketSelect.innerHTML += `
      <option value="${p.harga}" data-nama="${p.nama}">
        ${p.nama} - Rp ${p.harga.toLocaleString("id-ID")}
      </option>`;
  });

  dataPaket[kategori].background.forEach(bg => {
    bgSelect.innerHTML += `<option value="${bg}">${bg}</option>`;
  });

  hitungTotal();
}

function hitungTotal(){
  const jumlah = parseInt(document.getElementById("jumlah").value || 1);
  const paket = document.getElementById("pilihPaket");
  const harga = parseInt(paket.value || 0);
  const total = harga * jumlah;

  document.getElementById("totalDisplay").innerText =
    "Rp " + total.toLocaleString("id-ID");
}

function generate(){
  const nama = document.getElementById("nama").value;
  const jumlah = document.getElementById("jumlah").value;
  const kategori = document.getElementById("kategori").selectedOptions[0]?.text || "-";
  const paketEl = document.getElementById("pilihPaket").selectedOptions[0];
  const paket = paketEl?.dataset.nama || "-";
  const bg = document.getElementById("background").value || "-";
  const tanggal = document.getElementById("tanggal").value;
  const jam = document.getElementById("jam").value;
  const wa = document.getElementById("wa").value;
  const total = document.getElementById("totalDisplay").innerText;

  const pesan = `
üì∏ *BOOKING SHINE SELF PHOTO STUDIO*

üë§ Nama: ${nama}
üë• Jumlah Orang: ${jumlah}
üìÇ Kategori: ${kategori}
üéûÔ∏è Paket: ${paket}
üé® Background: ${bg}
üìÖ Tanggal: ${tanggal}
‚è∞ Jam: ${jam}
üì± WA: ${wa}

üí∞ Total: *${total}*

Terima kasih ‚ú®
  `.trim();

  document.getElementById("output").textContent = pesan;
}

function copyText(){
  const text = document.getElementById("output").textContent;
  if(!text) return alert("Generate booking dulu");
  navigator.clipboard.writeText(text);
  alert("Pesan berhasil disalin");
}

function sendWA(){
  const text = document.getElementById("output").textContent;
  if(!text) return alert("Generate booking dulu");
  const url = "https://wa.me/6283894036552?text=" + encodeURIComponent(text);
  window.open(url, "_blank");
}
</script>
